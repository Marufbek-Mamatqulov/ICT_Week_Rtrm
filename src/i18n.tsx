import React, { createContext, useContext, useState, ReactNode, useCallback } from 'react';

export type Lang = 'uz' | 'en' | 'ru';

interface I18nContextValue {
  lang: Lang;
  t: (key: string) => string;
  switchLang: () => void;
}

const dictionaries: Record<Lang, Record<string, string>> = {
  uz: {
    // Special Session
    'special.note': 'Forum doirasidagi maxsus sessiya haqida eslatma.',
    'special.meta.date': 'Sana',
    'special.meta.dateValue': '24-sentabr',
    'special.meta.time': 'Vaqt',
    'special.meta.timeValue': '09:30',
    'special.meta.location': 'Joylashuv',
    'special.meta.locationValue': 'CAEx Asosiy Zali',
    'special.meta.language': 'Tillar',
    'special.meta.participants': 'Ishtirokchilar',
    'special.meta.languagesValue': 'Oʻzbek, Rus, Ingliz',
    'special.meta.participantsValue': 'Ochiq',
    'lang.toggle': 'Tilni almashtirish',
    'brand.name': 'TECH FORUM',
    'org.name': 'RAQAMLI TA\'LIMNI RIVOJLANTIRISH MARKAZI',
    'nav.home': 'Bosh sahifa',
    'nav.about': 'Biz haqimizda',
    'nav.program': 'Dastur',
    'nav.projects': 'Loyihalar',
    'nav.speakers': 'Spikerlar',
    'speakers.title': 'Spikerlar',
    'action.register': 'Ro\'yxatdan o\'tish',
    'footer.section.students': 'Talabalar uchun',
    'footer.section.entrepreneurs': 'Tadbirkorlar uchun',
    'footer.link.courses': 'Kurslar',
    'footer.link.centers': 'IT Markazlar',
    'footer.link.about': 'Biz haqimizda',
    'footer.link.contact': 'Bog\'lanish',
    'hero.title': 'AI in Digital Education: from vision to impact',
    'hero.tagline': 'Raqamli ta\'limdagi eng so\'nggi yangiliklar, innovatsiyalar va texnologiyalar bilan tanishing: Xorijiy va mahalliy ekspertlardan nutqlar, panel muhokamalari, konkurs-tanlovlar!',
    'hero.cta.program': 'Forum Dasturi',
    'hero.cta.projects': 'Raqamli ta\'lim loyihalari',
    'hero.qr.scan': 'Tadbir maʼlumotlari uchun skanerlang',
    'hero.qr.tooltip': 'Nusxalash',
    'hero.qr.desc': 'Rasmiy portal: ro\'yxatdan o\'tish, yangiliklar, xarita va networking vositalari. QR kodni oson almashtiring.',
    'program.disclaimer': 'Dasturda o‘zgarishlar bo‘lishi mumkin. Yakuniy jadval tadbir kuni eʼlon qilinadi.',
    'program.title': 'Forum Dasturi',
    'program.subtitle': 'Strategik qarashlar va innovatsion g\'oyalarni birlashtirgan kuratsiyalangan kun tartibi.',
    'projects.title': 'Loyihalar',
    'projects.subtitle': 'Raqamli ekotizim, barqarorlik va aqlli tizimlarni tezlashtiruvchi tashabbuslar.',
    'projects.helper': 'Surat ustiga olib boring – interaktiv animatsiya.',
    'about.title': 'Biz haqimizda',
    'about.p1': 'Biz texnologlar, tadqiqotchilar, sarmoyadorlar va siyosat yetakchilarini birlashtiruvchi hamkorlik maydonimiz.',
    'about.p2': 'Missiyamiz: g\'oyalar real ta\'sirga tez aylanadigan ekotizimlarni rivojlantirish – iste\'dodlarni qo\'llab-quvvatlash va etik innovatsiyani himoya qilish.',
    'about.p3': 'Forumlar, ochiq laboratoriyalar va vitrinlar orqali AI, kvant, kiberxavfsizlik va infratuzilma bo\'yicha tashabbuslarni kuchaytiramiz.',
    'footer.about': 'Kelajakni yaratish uchun ochiq platforma.',
    'footer.contact': 'Aloqa',
    'footer.quick': 'Havolalar',
    'footer.join': 'Qo\'shiling',
    'footer.register': 'Ro\'yxatdan o\'tish',
    'contact.phone': '+998 71 203 03 43',
    'contact.email': 'education@digital.uz',
    'contact.address': 'Toshkent, O\'zbekiston',
    // Program sessions
    'program.registration.title': 'Mehmonlar/Tashrif buyuruvchilar ro\'yxatdan o\'tishi',
    'program.registration.details': 'Tadbir ishtirokchilarini ro\'yxatdan o\'tkazish',
    'program.opening.title': 'Video taqdimoti; Rasmiy ochilish marosimi',
    'program.opening.details': 'Forumning rasmiy ochilish marosimi',
    'program.karimjonov.title': 'Kirish so\'zi',
    'program.karimjonov.speaker': 'R. Karimjonov',
    'program.karimjonov.details': 'Motivatsion nutq',
    'program.castillo.title': 'UNICEF ning O\'zbekistondagi faoliyati',
    'program.castillo.speaker': 'Regina Maria Castillo',
    'program.castillo.details': 'Bolalar huquqlari va ta\'lim sohasidagi faoliyat',
    'program.eshankulov.title': 'Raqamli ta\'limdagi 5 yillik rejalar',
  'program.eshankulov.speaker': "Azamat Eshankulov — Raqamli texnologiyalar vazirligi huzuridagi Raqamli ta'limni rivojlantirish markazi direktori",
    'program.eshankulov.details': 'Raqamli ta\'limni rivojlantirish strategiyasi',
    'program.oracle.title': 'Oracle taqdimoti',
    'program.oracle.speaker': 'Oracle',
    'program.oracle.details': 'Korporativ texnologiyalar va ta\'lim',
    'program.foucaud.title': 'AI davrida ta\'lim va ko\'nikmalar kelajagi',
    'program.foucaud.speaker': 'Nikolaz Foucaud',
    'program.foucaud.details': 'Coursera platformasidan tajriba',
    'program.zurutuza.title': 'AI ta\'lim infratuzilmasi',
    'program.zurutuza.speaker': 'Naora Zurutuza',
    'program.zurutuza.details': 'UNICEF GIGA loyihasi',
    'program.nabieva.title': 'Huawei ta\'lim tashabbusi',
    'program.nabieva.speaker': 'A. Nabieva',
    'program.nabieva.details': 'I.C.The Future. AI davrida raqamli iste\'dodlar',
    'program.bella.title': 'O\'rgan → Amal qil → Kengaytir',
    'program.bella.speaker': 'Vera Bella',
    'program.bella.details': 'CFO.UZ tajribasi',
    'program.dianova.title': 'Odamlarga sarmoya kiritish, kelajakni qurish',
    'program.dianova.speaker': 'Vera Dianova',
    'program.dianova.details': 'Kompaniyalarning yoshlarni raqamli iqtisodiyot uchun tayyorlashdagi roli',
    'program.bobrovnikov.title': 'Sun\'iy intellekt mutaxassislarini tayyorlash',
    'program.bobrovnikov.speaker': 'Boris Bobrovnikov',
    'program.bobrovnikov.details': 'Ta\'lim, sanoat va innovatsiyalarni bog\'lash',
    'program.aslikyan.title': 'AI – bozor va ta\'lim o\'rtasida ko\'prik',
    'program.aslikyan.speaker': 'Narek Aslikyan',
    'program.aslikyan.details': 'Bozor talablari va ta\'lim tizimi',
    'program.awards.title': 'Taqdirlash marosimi',
    'program.awards.speaker': 'R. Karimjonov, A. Eshankulov, J. Askarov, A. Nabieva, Vera Dianova',
    'program.awards.details': 'EGOI va IOI xalqaro olimpiadalari g\'oliblari, yetakchi universitetlar, hamkorlar, o\'quv markazlari, IT influenserlar va media vakillari, "Al-Xorazmiy avlodlari" loyihasi mentorlari, "Seeds for Future" g\'oliblari',
    'program.quiz.title': 'Quiz',
    'program.quiz.speaker': 'B. Turanmuratova',
    'program.quiz.details': 'Tez savol-javob, Emoji topish, Raqamli qadamlar',
    'program.masterclass1.title': 'AI yordamida to\'g\'ri prompt yozish',
    'program.masterclass1.speaker': 'Oybek Artikov',
    'program.masterclass1.details': 'Sun\'iy intellekt bilan samarali ishlash',
    'program.masterclass2.title': 'AI agent yaratish',
    'program.masterclass2.speaker': 'Xurshidbek Kurbanov',
    'program.masterclass2.details': 'Chat-bot yasash mashg\'uloti',
    'program.masterclass3.title': 'Ta\'limdan sog\'liqni saqlashgacha: AR texnologiyalari qo\'llanish sohalari',
    'program.masterclass3.speaker': 'Saud Abdulwaheed',
    'program.masterclass3.details': 'Kengaytirilgan reallik texnologiyalarining amaliy qo\'llanilishi',
    'program.final.title': 'Yakuniy qism',
    'program.final.speaker': 'Yandex Uzbekistan, IT Park Capital',
    'program.final.details': 'Quiz g\'oliblarini e\'lon qilish va mukofotlash'
  },
  en: {
    // Special Session
    'special.note': 'Note about the special session within the forum.',
    'special.meta.date': 'Date',
    'special.meta.dateValue': '24-September',
    'special.meta.time': 'Time',
    'special.meta.timeValue': '09:30',
    'special.meta.location': 'Location',
    'special.meta.locationValue': 'CAEx Main Hall',
    'special.meta.language': 'Languages',
    'special.meta.participants': 'Participants',
    'special.meta.languagesValue': 'Uzbek, Russian, English',
    'special.meta.participantsValue': 'Open',
    'lang.toggle': 'Switch language',
    'brand.name': 'TECH FORUM',
    'org.name': 'DIGITAL EDUCATION DEVELOPMENT CENTER',
    'nav.home': 'Home',
    'nav.about': 'About',
    'nav.program': 'Program',
    'nav.projects': 'Projects',
    'nav.speakers': 'Speakers',
    'speakers.title': 'Speakers',
    'action.register': 'Register',
    'footer.section.students': 'For Students',
    'footer.section.entrepreneurs': 'For Entrepreneurs',
    'footer.link.courses': 'Courses',
    'footer.link.centers': 'IT Centers',
    'footer.link.about': 'About Us',
    'footer.link.contact': 'Contact',
    'hero.title': 'AI in Digital Education: from vision to impact',
    'hero.tagline': 'Discover the latest news, innovations and technologies in digital education: Speeches from foreign and local experts, panel discussions, competitions!',
    'hero.cta.program': 'Forum Program',
    'hero.cta.projects': 'Digital Education Projects',
    'hero.qr.scan': 'Scan for event information',
    'hero.qr.tooltip': 'Copy',
    'hero.qr.desc': 'Official portal: registration, news, map and networking tools. Easy QR code sharing.',
    'program.disclaimer': 'The program is subject to change. The final schedule will be announced on the event day.',
    'program.title': 'Forum Program',
    'program.subtitle': 'A curated agenda combining strategic insights and innovative ideas.',
    'projects.title': 'Projects',
    'projects.subtitle': 'Initiatives accelerating digital ecosystems, sustainability and smart systems.',
    'projects.helper': 'Hover over image – interactive animation.',
    'about.title': 'About Us',
    'about.p1': 'We are a collaborative space bringing together technologists, researchers, investors and policy leaders.',
    'about.p2': 'Our mission: to develop ecosystems where ideas quickly turn into real impact – supporting talent and protecting ethical innovation.',
    'about.p3': 'Through forums, open labs and showcases, we strengthen initiatives in AI, quantum, cybersecurity and infrastructure.',
    'footer.about': 'An open platform for creating the future.',
    'footer.contact': 'Contact',
    'footer.quick': 'Quick Links',
    'footer.join': 'Join',
    'footer.register': 'Register',
    'contact.phone': '+998 71 203 03 43',
    'contact.email': 'education@digital.uz',
    'contact.address': 'Tashkent, Uzbekistan',
    // Program sessions
    'program.registration.title': 'Guests/Visitors Registration',
    'program.registration.details': 'Registration of event participants',
    'program.opening.title': 'Presentation of a video; Official Opening Ceremony',
    'program.opening.details': 'Official opening ceremony of the forum',
    'program.karimjonov.title': 'Introductory speech',
    'program.karimjonov.speaker': 'R. Karimjonov',
    'program.karimjonov.details': 'Motivational speech',
    'program.castillo.title': 'UNICEF activities in Uzbekistan',
    'program.castillo.speaker': 'Regina Maria Castillo',
    'program.castillo.details': 'Children\'s rights and education activities',
    'program.eshankulov.title': 'Upcoming 5 years of plans in Digital Education',
  'program.eshankulov.speaker': "Azamat Eshankulov — Director of the Digital Education Development Center under the Ministry of Digital Technologies",
    'program.eshankulov.details': 'Digital education development strategy',
    'program.oracle.title': 'Oracle Presentation',
    'program.oracle.speaker': 'Oracle',
    'program.oracle.details': 'Corporate technologies and education',
    'program.foucaud.title': 'Future of learning and Skills in the era of AI',
    'program.foucaud.speaker': 'Nikolaz Foucaud',
    'program.foucaud.details': 'Experience from Coursera platform',
    'program.zurutuza.title': 'Building the digital rails for AI in learning',
    'program.zurutuza.speaker': 'Naora Zurutuza',
    'program.zurutuza.details': 'UNICEF GIGA project',
    'program.nabieva.title': 'I.C.The Future. Digital Talents in the AI Era',
    'program.nabieva.speaker': 'A. Nabieva',
    'program.nabieva.details': 'Huawei educational initiative',
    'program.bella.title': 'Learn → Do → Scale',
    'program.bella.speaker': 'Vera Bella',
    'program.bella.details': 'CFO.UZ experience',
    'program.dianova.title': 'Investing in People, Building the Future',
    'program.dianova.speaker': 'Vera Dianova',
    'program.dianova.details': 'The Role of Companies in Developing Youth for the Digital Economy',
    'program.bobrovnikov.title': 'Preparing AI Specialists',
    'program.bobrovnikov.speaker': 'Boris Bobrovnikov',
    'program.bobrovnikov.details': 'Bridging Education, Industry, and Innovation',
    'program.aslikyan.title': 'AI is a bridge between the market and education',
    'program.aslikyan.speaker': 'Narek Aslikyan',
    'program.aslikyan.details': 'Market demands and education system',
    'program.awards.title': 'Awarding Ceremony',
    'program.awards.speaker': 'R. Karimjonov, A. Eshankulov, J. Askarov, A. Nabieva, Vera Dianova',
    'program.awards.details': 'Prize-winners of EGOI and IOI International Olympiads, leading universities, partners, learning centers, IT influencers and media representatives, mentors from "Heirs of Al-Khwarizmi" project, "Seeds for Future" winners',
    'program.quiz.title': 'Quiz',
    'program.quiz.speaker': 'B. Turanmuratova',
    'program.quiz.details': 'Quick Quiz, Emoji Guess, Digital Steps',
    'program.masterclass1.title': 'Write a correct prompt for AI',
    'program.masterclass1.speaker': 'Oybek Artikov',
    'program.masterclass1.details': 'Effective work with artificial intelligence',
    'program.masterclass2.title': 'Creating an AI agent',
    'program.masterclass2.speaker': 'Xurshidbek Kurbanov',
    'program.masterclass2.details': 'Chat-bot creation workshop',
    'program.masterclass3.title': 'From Education to Healthcare: Areas of application of AR technologies',
    'program.masterclass3.speaker': 'Saud Abdulwaheed',
    'program.masterclass3.details': 'Practical applications of augmented reality technologies',
    'program.final.title': 'Final chapter',
    'program.final.speaker': 'Yandex Uzbekistan, IT Park Capital',
    'program.final.details': 'Announcing and awarding Quiz winners'
  },
  ru: {
    // Special Session
    'special.note': 'Примечание о специальной сессии в рамках форума.',
    'special.meta.date': 'Дата',
    'special.meta.dateValue': '24-сентября',
    'special.meta.time': 'Время',
    'special.meta.timeValue': '09:30',
    'special.meta.location': 'Место',
    'special.meta.locationValue': 'CAEx Главный зал',
    'special.meta.language': 'Языки',
    'special.meta.participants': 'Участники',
    'special.meta.languagesValue': 'Узбекский, Русский, Английский',
    'special.meta.participantsValue': 'Открыто',
    'lang.toggle': 'Сменить язык',
    'brand.name': 'TECH FORUM',
    'org.name': 'ЦЕНТР РАЗВИТИЯ ЦИФРОВОГО ОБРАЗОВАНИЯ',
    'nav.home': 'Главная',
    'nav.about': 'О нас',
    'nav.program': 'Программа',
    'nav.projects': 'Проекты',
    'nav.speakers': 'Спикеры',
    'speakers.title': 'Спикеры',
    'action.register': 'Регистрация',
    'footer.section.students': 'Для студентов',
    'footer.section.entrepreneurs': 'Для предпринимателей',
    'footer.link.courses': 'Курсы',
    'footer.link.centers': 'IT Центры',
    'footer.link.about': 'О нас',
    'footer.link.contact': 'Контакты',
    'hero.title': 'AI in Digital Education: from vision to impact',
    'hero.tagline': 'Откройте для себя последние новости, инновации и технологии в цифровом образовании: выступления зарубежных и местных экспертов, панельные дискуссии, конкурсы!',
    'hero.cta.program': 'Программа форума',
    'hero.cta.projects': 'Проекты цифрового образования',
    'hero.qr.scan': 'Сканируйте для получения информации о мероприятии',
    'hero.qr.tooltip': 'Копировать',
    'hero.qr.desc': 'Официальный портал: регистрация, новости, карта и инструменты для нетворкинга. Легкий обмен QR-кодом.',
    'program.disclaimer': 'Программа может быть изменена. Окончательное расписание будет объявлено в день мероприятия.',
    'program.title': 'Программа форума',
    'program.subtitle': 'Кураторская повестка дня, объединяющая стратегические идеи и инновационные решения.',
    'projects.title': 'Проекты',
    'projects.subtitle': 'Инициативы, ускоряющие цифровые экосистемы, устойчивость и умные системы.',
    'projects.helper': 'Наведите на изображение – интерактивная анимация.',
    'about.title': 'О нас',
    'about.p1': 'Мы - пространство для сотрудничества, объединяющее технологов, исследователей, инвесторов и политических лидеров.',
    'about.p2': 'Наша миссия: развивать экосистемы, где идеи быстро превращаются в реальное воздействие – поддерживая таланты и защищая этичные инновации.',
    'about.p3': 'Через форумы, открытые лаборатории и витрины мы укрепляем инициативы в области ИИ, квантовых технологий, кибербезопасности и инфраструктуры.',
    'footer.about': 'Открытая платформа для создания будущего.',
    'footer.contact': 'Контакты',
    'footer.quick': 'Быстрые ссылки',
    'footer.join': 'Присоединиться',
    'footer.register': 'Регистрация',
    'contact.phone': '+998 71 203 03 43',
    'contact.email': 'education@digital.uz',
    'contact.address': 'Ташкент, Узбекистан',
    // Program sessions
    'program.registration.title': 'Регистрация гостей/посетителей',
    'program.registration.details': 'Регистрация участников мероприятия',
    'program.opening.title': 'Презентация видео; Официальная церемония открытия',
    'program.opening.details': 'Официальная церемония открытия форума',
    'program.karimjonov.title': 'Вступительная речь',
  'program.karimjonov.speaker': 'Рустам Каримжонов — директор Республиканского центра тестирования',
    'program.karimjonov.details': 'Мотивационная речь',
    'program.castillo.title': 'Деятельность ЮНИСЕФ в Узбекистане',
  'program.castillo.speaker': 'Регина Мария Кастильо — глава представительства ЮНИСЕФ в Узбекистане',
    'program.castillo.details': 'Права детей и деятельность в сфере образования',
    'program.eshankulov.title': 'Предстоящие 5-летние планы в цифровом образовании',
  'program.eshankulov.speaker': "Азамат Эшанкулов — директор Центра развития цифрового образования при Министерстве цифровых технологий Республики Узбекистан",
    'program.eshankulov.details': 'Стратегия развития цифрового образования',
    'program.oracle.title': 'Презентация Oracle',
  'program.oracle.speaker': 'Представитель Oracle',
    'program.oracle.details': 'Корпоративные технологии и образование',
    'program.foucaud.title': 'Будущее обучения и навыков в эпоху ИИ',
  'program.foucaud.speaker': 'Николаз Фуко — директор по развитию Coursera в Восточной Европе',
    'program.foucaud.details': 'Опыт платформы Coursera',
    'program.zurutuza.title': 'Создание цифровых рельсов для ИИ в обучении',
  'program.zurutuza.speaker': 'Наора Зурутуза — руководитель проекта GIGA (ЮНИСЕФ)',
    'program.zurutuza.details': 'Проект ЮНИСЕФ GIGA',
    'program.nabieva.title': 'I.C.The Future. Цифровые таланты в эпоху ИИ',
  'program.nabieva.speaker': 'Александра Набиева — директор по образовательным инициативам Huawei',
    'program.nabieva.details': 'Образовательная инициатива Huawei',
    'program.bella.title': 'Учись → Делай → Масштабируй',
  'program.bella.speaker': 'Вера Белла — CEO CFO.UZ',
    'program.bella.details': 'Опыт CFO.UZ',
    'program.dianova.title': 'Инвестиции в людей, строительство будущего',
  'program.dianova.speaker': 'Вера Дианова — директор по развитию бизнеса, Yandex Uzbekistan',
    'program.dianova.details': 'Роль компаний в подготовке молодежи для цифровой экономики',
    'program.bobrovnikov.title': 'Подготовка специалистов по ИИ',
  'program.bobrovnikov.speaker': 'Борис Бобровников — генеральный директор КРОК',
    'program.bobrovnikov.details': 'Связывание образования, промышленности и инноваций',
    'program.aslikyan.title': 'ИИ - мост между рынком и образованием',
  'program.aslikyan.speaker': 'Нарек Асликян — основатель и CEO Armenian Code Academy',
    'program.aslikyan.details': 'Требования рынка и система образования',
    'program.awards.title': 'Церемония награждения',
    'program.awards.speaker': 'Р. Каримжонов, А. Эшанкулов, Ж. Аскаров, А. Набиева, Вера Дианова',
    'program.awards.details': 'Призеры международных олимпиад EGOI и IOI, ведущие университеты, партнеры, учебные центры, IT-инфлюенсеры и представители СМИ, наставники проекта "Наследники Аль-Хорезми", победители "Seeds for Future"',
    'program.quiz.title': 'Викторина',
  'program.quiz.speaker': 'Ботирхон Туранмуратова — ведущий викторины',
    'program.quiz.details': 'Быстрая викторина, угадай эмодзи, цифровые шаги',
    'program.masterclass1.title': 'Написание правильного промпта для ИИ',
  'program.masterclass1.speaker': 'Ойбек Артиков — AI-преподаватель',
    'program.masterclass1.details': 'Эффективная работа с искусственным интеллектом',
    'program.masterclass2.title': 'Создание ИИ-агента',
  'program.masterclass2.speaker': 'Хуршидбек Курбанов — AI-разработчик',
    'program.masterclass2.details': 'Мастер-класс по созданию чат-бота',
    'program.masterclass3.title': 'От образования до здравоохранения: области применения AR-технологий',
  'program.masterclass3.speaker': 'Сауд Абдулвахид — эксперт по AR-технологиям',
    'program.masterclass3.details': 'Практическое применение технологий дополненной реальности',
    'program.final.title': 'Заключительная часть',
    'program.final.speaker': 'Yandex Uzbekistan, IT Park Capital',
    'program.final.details': 'Объявление и награждение победителей викторины'
  }
};

const I18nContext = createContext<I18nContextValue | undefined>(undefined);

export const I18nProvider = ({ children }: { children: ReactNode }) => {
  const [lang, setLang] = useState<Lang>('uz');
  const t = useCallback((key: string) => dictionaries[lang][key] ?? key, [lang]);
  const switchLang = useCallback(() => setLang(l => (l === 'uz' ? 'en' : l === 'en' ? 'ru' : 'uz')), []);
  return <I18nContext.Provider value={{ lang, t, switchLang }}>{children}</I18nContext.Provider>;
};

export const useI18n = () => {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error('useI18n must be used within I18nProvider');
  return ctx;
};
